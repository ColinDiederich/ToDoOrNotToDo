@import "tailwindcss";

/* Shared layer for common styles */
@layer components {
  /* Typography */
  .font-varela {
    font-family: 'Varela Round', cursive;
  }
  
  .text-title {
    @apply text-4xl font-black text-gray-800 select-none;
    font-family: 'Varela Round', cursive;
    letter-spacing: -0.025em;
    caret-color: transparent;
  }
  
  .text-task {
    @apply text-xl font-semibold;
    font-family: 'Varela Round', cursive;
  }
  
  .text-task-completed {
    @apply text-xl font-semibold line-through text-gray-500;
    font-family: 'Varela Round', cursive;
  }
  
  .text-task-active {
    @apply text-xl font-semibold text-gray-800;
    font-family: 'Varela Round', cursive;
  }
  
  .text-task-disabled {
    @apply text-xl font-semibold text-gray-400;
    font-family: 'Varela Round', cursive;
  }
  
  .text-no-tasks {
    @apply text-gray-600 text-center py-8 text-xl font-semibold;
    font-family: 'Varela Round', cursive;
    caret-color: transparent;
  }
  
  /* Layout Components */
  .container-main {
    @apply container mx-auto px-4 py-8 min-h-screen;
  }
  
  .content-wrapper {
    @apply max-w-4xl mx-auto;
  }
  
  .tasks-container {
    @apply rounded-2xl p-6 shadow-lg bg-purple-300/30;
  }
  
  .tasks-content {
    @apply relative;
  }
  
  .tasks-content-disabled {
    @apply opacity-50 pointer-events-none;
  }
  
  .tasks-section {
    @apply space-y-3;
  }
  
  .tasks-section-completed {
    @apply space-y-3;
  }
  
  /* Task Item Components */
  .task-item-base {
    @apply flex items-center p-5 border border-purple-400 rounded-xl transition-all duration-300 ease-out;
  }
  
  .task-item-disabled {
    @apply bg-purple-300/60;
  }
  
  .task-item-editing {
    @apply bg-purple-300/60 border-purple-300 shadow-sm;
  }
  
  .task-item-interactive {
    @apply hover:bg-purple-300/60 hover:shadow-lg hover:border-purple-300 hover:scale-[1.02];
  }
  
  .task-content {
    @apply flex items-center gap-4 flex-1 select-none;
  }
  
  .task-checkbox {
    @apply w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 transition-all duration-200 ease-out;
  }
  
  .task-checkbox-disabled {
    @apply cursor-not-allowed;
  }
  
  .task-checkbox-interactive {
    @apply cursor-pointer hover:scale-110;
  }
  
  .task-title-area {
    @apply flex-1 py-2 -mx-2 px-2 rounded cursor-pointer min-w-0 max-w-full;
  }
  
  .task-title-area-disabled {
    @apply cursor-not-allowed;
  }
  
  .task-title-area-completed {
    @apply cursor-default;
  }
  
  .task-edit-area {
    @apply flex-1 bg-purple-200 flex items-center mr-2.5;
  }
  
  .task-delete-btn {
    @apply p-3 rounded-lg transition-colors;
  }
  
  .task-delete-btn-disabled {
    @apply text-gray-400 cursor-not-allowed;
  }
  
  .task-delete-btn-interactive {
    @apply text-gray-500 hover:text-red-500 hover:bg-purple-200 cursor-pointer;
  }
  
  /* Search Components */
  .search-container {
    @apply max-w-full ml-2 flex items-center relative;
  }

  .search-sort-row {
    @apply flex items-center justify-between gap-4;
  }

  /* Sort Components */
  .sort-container {
    @apply flex justify-end;
  }

  .sort-options-container {
    @apply flex items-center gap-2 select-none mr-2;
  }

  .sort-label {
    @apply text-purple-900 text-base font-semibold;
    font-family: 'Varela Round', cursive;
  }

  .sort-dropdown {
    @apply px-4 py-3 border-2 border-purple-200 rounded-lg bg-purple-200 text-purple-900 text-base font-semibold focus:outline-none focus:border-purple-400 transition-colors shadow-sm;
    font-family: 'Varela Round', cursive;
  }

  /* Custom Dropdown Styles */
  .custom-dropdown {
    @apply relative cursor-pointer;
  }

  .dropdown-selected {
    @apply px-4 py-3 border-2 border-purple-200 rounded-lg bg-purple-200 text-purple-900 text-base font-semibold transition-colors shadow-sm flex items-center justify-between min-w-[140px];
    font-family: 'Varela Round', cursive;
  }

  .dropdown-selected:hover {
    @apply border-purple-300 bg-purple-300;
  }

  .dropdown-arrow {
    @apply transition-transform duration-200 ml-2;
  }

  .arrow-up {
    @apply rotate-180;
  }

  .dropdown-options {
    @apply absolute top-full left-0 right-0 mt-0.5 bg-white border-2 border-purple-200 rounded-lg shadow-lg z-50 overflow-hidden;
  }

  .dropdown-option {
    @apply px-4 py-3 text-purple-900 text-base font-semibold cursor-pointer transition-colors hover:bg-purple-100 border-b border-purple-100 last:border-b-0;
    font-family: 'Varela Round', cursive;
  }

  .dropdown-option:last-child {
    @apply border-b-0;
  }

  .option-selected {
    @apply bg-purple-200 text-purple-900;
  }

  .dropdown-option:hover {
    @apply bg-purple-100;
  }

  /* Sound Toggle Component */
  .sound-toggle-container {
    @apply fixed bottom-6 right-6 z-50;
  }

  .sound-toggle-btn {
    @apply w-12 h-12 bg-purple-600/60 text-white rounded-full hover:bg-purple-700/75 focus:outline-none transition-colors flex items-center justify-center;
    font-family: 'Varela Round', cursive;
  }

  .sound-toggle-btn.sound-enabled {
    @apply bg-purple-600/60 text-white;
  }

  .sound-toggle-btn:not(.sound-enabled) {
    @apply bg-gray-400 text-gray-600;
  }

  .sound-icon {
    @apply transition-all duration-200;
  }

  .sort-toggle-btn {
    @apply px-4 py-3 bg-purple-600/60 text-white rounded-full hover:bg-purple-700/75 focus:outline-none transition-colors shadow-sm flex items-center justify-center;
    font-family: 'Varela Round', cursive;
  }

  .search-input-wrapper {
    @apply relative flex items-center max-w-2xl select-none;
  }

  .search-icon {
    @apply absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 z-10 pointer-events-none;
  }

  .search-input {
    @apply w-full py-3 pr-10 pl-12 border-2 border-purple-200 rounded-lg text-base transition-all duration-200 bg-purple-200 shadow-sm;
  }

  .search-input:focus {
    @apply outline-none border-purple-400 shadow-purple-400/10 shadow-lg;
  }

  .search-input:focus + .search-icon {
    @apply text-blue-500;
  }

  .search-input::placeholder {
    @apply text-gray-400;
  }

  .search-clear-btn {
    @apply absolute right-2 top-1/2 -translate-y-1/2 bg-none border-none text-gray-500 cursor-pointer p-1 rounded-full transition-all duration-200 flex items-center justify-center w-6 h-6;
  }

  .search-clear-btn:hover {
    @apply text-gray-700 bg-gray-100;
  }

  .search-clear-btn:focus {
    @apply outline-none text-gray-700 bg-gray-100;
  }

  .search-results-info {
    @apply text-left mt-2 p-0 absolute top-full left-0 right-0;
  }

  /* Add Task Components */
  .add-task-container {
    @apply mb-6 cursor-pointer select-none;
  }
  
  .btn-add-task {
    @apply w-full p-4 border-2 border-dashed border-purple-800/50 rounded-xl text-gray-800 hover:border-purple-800 hover:text-purple-800 hover:bg-purple-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-semibold;
    font-family: 'Varela Round', cursive;
  }
  
  .add-task-input-container {
    @apply border border-purple-300 rounded-xl p-4 pl-14 bg-purple-300/50 shadow-sm;
  }
  
  .input-task {
    @apply w-full border-none outline-none text-gray-800 placeholder-gray-400 bg-purple-300/50 disabled:opacity-50 text-lg font-medium;
    font-family: 'Varela Round', cursive;
  }
  
  .textarea-edit {
    @apply w-full text-xl outline-none text-gray-800 font-semibold resize-none overflow-hidden;
    font-family: 'Varela Round', cursive;
    min-height: 1.5rem;
    line-height: 1.5rem;
    vertical-align: middle;
    margin: 5px;
  }
  
  /* Loading Spinner */
  .loading-container {
    @apply flex justify-center items-center py-12;
  }

  /* Task List Animations */
  .no-caret {
    caret-color: transparent;
  }

  /* Task sliding animations */
  .task-slide-enter-active,
  .task-slide-leave-active {
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  }

  .task-slide-enter-from {
    opacity: 0;
    transform: translateX(-30px) scale(0.95);
  }

  .task-slide-leave-to {
    opacity: 0;
    transform: translateX(30px) scale(0.95);
  }

  .task-slide-move {
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  }

  /* Ensure smooth transitions for task items */
  .task-slide-enter-active .flex,
  .task-slide-leave-active .flex {
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  }
  
  .loading-spinner {
    @apply animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600;
  }
  
  /* Modal Components */
  .modal-backdrop {
    @apply fixed inset-0 z-50 flex items-center justify-center;
  }
  
  .modal-overlay {
    @apply absolute inset-0 bg-black/75;
  }
  
  .modal-container {
    @apply relative bg-purple-300 rounded-lg shadow-xl max-w-md w-full mx-4;
  }
  
  .modal-header {
    @apply px-6 py-4;
  }
  
  .modal-title {
    @apply text-lg font-semibold text-gray-900;
  }
  
  .modal-content {
    @apply px-6 py-4;
  }
  
  .modal-message {
    @apply text-gray-700 font-semibold;
  }
  
  .modal-actions {
    @apply px-6 py-4 rounded-b-lg flex justify-end gap-3;
  }
  
  .btn-modal-cancel {
    @apply px-4 py-2 text-sm font-medium text-gray-700 bg-purple-200 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors;
  }
  
  .btn-modal-confirm {
    @apply px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors;
  }
  
  /* Error Banner */
  .error-banner {
    @apply fixed top-0 left-0 right-0 z-50 bg-red-600 text-white px-4 py-3 shadow-lg;
  }
  
  .error-banner-content {
    @apply container mx-auto flex items-center justify-between;
  }
  
  .error-banner-message {
    @apply flex items-center font-medium;
  }
  
  .error-banner-icon {
    @apply w-5 h-5 mr-2;
  }
  
  .error-banner-close {
    @apply ml-4 text-white hover:text-red-200 focus:outline-none focus:text-red-200 transition-colors;
  }
  
  .error-banner-close-icon {
    @apply w-5 h-5;
  }
  
  /* App Layout */
  .app-container {
    @apply bg-purple-800/30;
  }
  
  .app-content {
    @apply pt-16;
  }
  
  /* Legacy Components (keeping for compatibility) */
  .btn-primary {
    @apply bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded;
  }
  
  .btn-secondary {
    @apply bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded;
  }
  
  .card {
    @apply bg-white shadow-md rounded-lg p-6;
  }
  
  .input {
    @apply border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500;
  }
}

/* Utility Classes */
@layer utilities {
  .no-caret {
    caret-color: transparent;
  }
  
  .text-wrap-anywhere {
    word-wrap: break-word;
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
    max-width: 100%;
    display: block;
    white-space: pre-wrap;
  }
  
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
}
